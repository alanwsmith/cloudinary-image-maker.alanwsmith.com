<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Cloudinary Image Maker</title>
    <meta name="description" content="A tool to build Coudinary image calls" />

    <meta property="og:title" content="Cloudinary Image Maker" />
    <meta
      property="og:description"
      content="A tool to build Cloudinary image call URLs"
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://cloudinary-image-maker.alanwsmith.com/"
    />
    <meta
      property="og:image"
      content="https://cloudinary-image-maker.alanwsmith.com/og-images/main.png"
    />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:creator" content="@theidofalan" />
    <meta name="twitter:title" content="Cloudinary Image Maker" />
    <meta
      name="twitter:image"
      content="https://cloudinary-image-maker.alanwsmith.com/og-images/main.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/favicons/16x16.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/favicons/32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="96x96"
      href="/favicons/96x96.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="128x128"
      href="/favicons/128x128.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="196x196"
      href="/favicons/196x196.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="228x228"
      href="/favicons/228x228.png"
    />
    <link
      rel="apple-touch-icon-precomposed"
      sizes="152x152"
      href="/favicons/152x152.png"
    />
    <link
      rel="apple-touch-icon-precomposed"
      sizes="167x167"
      href="/favicons/167x167.png"
    />
    <link
      rel="apple-touch-icon-precomposed"
      sizes="180x180"
      href="/favicons/180x180.png"
    />

    <style>
      /**********************\
      | Body
      \**********************/

      body {
        margin: 0;
        padding: 0;
        min-height: 100vh;
        display: grid;
        grid-template-rows: auto 1fr auto;
      }

      /**********************\
      | Sections 
      \**********************/

      footer {
        width: 100%;
        max-width: 72ch;
        margin: 0 auto;
        text-align: center;
        padding-bottom: 12px;
        margin-top: 62px;
        font-size: 0.9rem;
      }

      header {
        width: 100%;
        max-width: 72ch;
        padding-top: 18px;
        padding-bottom: 4px;
        margin: 0 auto;
        border-bottom: 1px solid #888;
      }

      main {
        width: 100%;
        max-width: 72ch;
        margin: 0 auto;
      }

      /**********************\
      | Elements 
      \**********************/

      a {
        text-decoration: none;
      }

      input {
        box-sizing: border-box;
        width: 100%;
        margin-bottom: 6px;
      }

      li {
        padding-bottom: 4px;
      }

      textarea {
        box-sizing: border-box;
        width: 100%;
      }

      /**********************\
      | IDs 
      \**********************/

      #image_box {
        margin-bottom: 22px;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      #image_preview {
        box-sizing: border-box;
        max-width: 100%;
      }

      /**********************\
      | Classes 
      \**********************/

      .pallet2 {
        background-color: #273c2c;
        color: #ffe8d6;
      }
      .pallet2 a {
        color: #b7b7a4;
      }
      .pallet2 footer {
        color: #a5a58d;
      }
    </style>

    <script type="text/javascript">
      const examples = [
        ///////////////////////////////////////////////////////
        {
          title: 'Initial example',
          notes: [],
          code: `{
  "_comments": [
    "///////////////////////////////////////////////////////////////",
    "Welcome to the Cloudiary Image Maker",

    "Use it to configure a cloudinary image transformation url",

    "e.g. the image text above was configured through this json",

    "It's a good starting point for Open Graph (OG) social images",

    "More notes on usage are further down the page",
    "///////////////////////////////////////////////////////////////"
  ],
  
  "root_url": "https://res.cloudinary.com/demo/image/upload",
  "base_image": "horses",
  "format": "png",
  "sections": [
    [
      { "w_525": [] },
      { "h_350": [] }
    ],
    [
      {"l_text": ["Oswald_38_bold", "Cloudinary Image Maker" ] }
    ],
    [
      { "fl_layer_apply": [] },
      { "g_north": [] },
      { "y_17": [] }
    ],
    [
      {"c_fit": [] },
      {"co_white": [] },
      {"w_525": [] },
      {"h_20": [] },
      {"bo_2px_solid_black": [] },
      {"b_rgb": ["FEB61F55"] },
      {"l_text": ["Ubuntu_16_bold_stroke_alignmentvalue_center", "Configure text and transformations with JSON" ] }
    ],
    [
      { "fl_layer_apply": [] },
      { "g_north": [] },
      { "y_58": [] }
    ],
    [
      {"c_fit": [] },
      {"w_525": [] },
      {"h_50": [] },
      {"co_rgb": ["ccd1a5"] },
      {"bo_2px_solid_black": [] },
      {"l_text": ["Ubuntu_18_bold_stroke_alignmentvalue_center", "cloudinary-image-maker.alanwsmith.com" ] }
    ],
    [
      { "fl_layer_apply": [] },
      { "g_south": [] },
      { "y_10": [] }
    ]
  ]
}`,
        },

        ///////////////////////////////////////////////////////

        {
          title: 'Position text',
          notes: [],
          code: `{
  "__comments__": [

    "///////////////////////////////////////////////////////////////",

    "///////////////////////////////////////////////////////////////"
  ],

  "root_url": "https://res.cloudinary.com/demo/image/upload",
  "base_image": "1px-white",
  "format": "png",
  "sections": [
    [
      { "w_525": [] },
      { "h_350": [] }
    ],
    [
      { "l_text": ["Aldrich_19_bold", "Placed with g_north_west, x_10, y_10" ] }
    ],
    [
      { "fl_layer_apply": [] },
      { "g_north_west": [] },
      { "x_10": [] },
      { "y_10": [] }
    ]
  ]
}`,
        },

        ///////////////////////////////////////////////////////

        {
          title: 'Multiple text fields',
          notes: [],
          code: `{

  "__comments__": [

    "///////////////////////////////////////////////////////////////",

    "///////////////////////////////////////////////////////////////"
  ],

  "root_url": "https://res.cloudinary.com/demo/image/upload",
  "base_image": "1px-white",
  "format": "png",
  "sections": [
    [
      { "w_525": [] },
      { "h_350": [] }
    ],
    [
      { "l_text": ["ABeeZee_19_bold", "At the top via g_north and y_10" ] }
    ],
    [
      { "fl_layer_apply": [] },
      { "g_north": [] },
      { "y_10": [] }
    ],
    [
      { "l_text": ["Aguafina Script_19_bold", "In the middle (no g_whatever applied)" ] }
    ],
    [
      { "fl_layer_apply": [] }
    ],
    [
      { "l_text": ["Averia Sans Libre_19_bold", "At the bottom via g_south and y_10" ] }
    ],
    [
      { "fl_layer_apply": [] },
      { "g_south": [] },
      { "y_10": [] }
    ]
  ]
}`,
        },

        ///////////////////////////////////////////////////////

        {
          title: 'Automatically wrap long lines of text',
          notes: [],
          code: `{
  "__comments__": [

    "///////////////////////////////////////////////////////////////",

    "///////////////////////////////////////////////////////////////"
  ],

        "root_url": "https://res.cloudinary.com/demo/image/upload",
        "base_image": "1px-white",
        "format": "png",
        "sections": [
          [
            { "w_525": [] },
            { "h_350": [] }
          ],
          [
            { "c_fit": [] },
            { "l_text": ["Arial_13_bold", "This example uses \\"c_fit\\" to automatically wrap text to the next line when it hits the edge of the bounding box defined by \\"w_300\\".\\n\\nNew lines are done with \`\\\\n\\\\n\` and double quotes are done with \`\\\\\\"\`" ] },
            { "w_300": [] }
          ],
          [
            { "fl_layer_apply": [] }
          ]
        ]
      }`,
        },

        ///////////////////////////////////////////////////////

        {
          title: 'Crop in on a face with a circular mask',
          notes: [],
          code: `{
  "__comments__": [

    "///////////////////////////////////////////////////////////////",

    "Face detection is pretty good, but it's not flawless.",

    "///////////////////////////////////////////////////////////////"
  ],

          
  "root_url": "https://res.cloudinary.com/demo/image/upload",
  "base_image": "face_left",
  "format": "png",
  "sections": [
    [ 
      { "w_525": [] },
      { "h_350": [] }
    ],
    [
      { "c_crop": [] },
      { "g_face": [] },
      { "w_350": [] },
      { "h_350": [] }
    ],
    [
      { "r_max": [] }
    ]
  ]
}`,
        },

        ///////////////////////////////////////////////////////

        {
          title: 'Watermark an image',
          notes: [`This gets a breakup pattern started`],
          code: `{
  "__comments__": [

    "///////////////////////////////////////////////////////////////",

    "///////////////////////////////////////////////////////////////"
  ],

        "root_url": "https://res.cloudinary.com/demo/image/upload",
        "base_image": "horses",
        "format": "png",
        "sections": [
          [
            { "h_350": [] }
          ],
          [
            { "l_cloudinary_icon_blue": [] }
          ],
          [
            { "o_60": [] }
          ],
          [
            { "fl_layer_apply": [] }
          ]
        ]
      }`,
        },

        ///////////////////////////////////////////////////////

        {
          title: 'Watermark an image in the corner',
          notes: [`This gets a breakup pattern started`],
          code: `{
  "__comments__": [

    "///////////////////////////////////////////////////////////////",

    "///////////////////////////////////////////////////////////////"
  ],

        "root_url": "https://res.cloudinary.com/demo/image/upload",
        "base_image": "horses",
        "format": "png",
        "sections": [
          [
            { "h_350": [] }
          ],
          [
            { "l_cloudinary_icon_blue": [] }
          ],
          [
            { "w_0.3": [] },
            { "o_60": [] }
          ],
          [
            { "fl_layer_apply": [] },
            { "g_south_east": [] },
            { "y_20": [] },
            { "x_20": [] }
          ]
        ]
      }`,
        },

        ///////////////////////////////////////////////////////

        {
          title: 'Get a Gravatar image',
          notes: [
            `Make an md5 hash of the gravatar user's email address and use it for the base_name`,
          ],
          code: `{
  "__comments__": [

    "///////////////////////////////////////////////////////////////",

    "///////////////////////////////////////////////////////////////"
  ],

        "root_url": "https://res.cloudinary.com/demo/image/gravatar",
        "base_image": "ec8e27851eef45968d23b9be06ba9eb5",
        "format": "jpg",
        "sections": [
          [
            { "h_350": [] }
          ]
        ]
      }`,
        },

        ///////////////////////////////////////////////////////

        {
          title: 'Use a remote image',
          notes: [
            `Some urls contain special characters that need to be encoded. This process doesn't try to deal with that.`,
            `More details are here: https://cloudinary.com/documentation/fetch_remote_images#creating_a_fetch_url_containing_special_characters`,
            `Note that there's no format here. The 'f_auto' is set to deteremine it`,
            `If you try to set a format, sometimes it conflicts with the remote URL and breaks the process`,
            `Check out the multiple remote image call for ways to work around problematic URLs by making the calls via 'l_fetch' and a base64 encoded url`,
          ],
          code: `{
  "__comments__": [

    "///////////////////////////////////////////////////////////////",

    "///////////////////////////////////////////////////////////////"
  ],

  "root_url": "https://res.cloudinary.com/demo/image/fetch",
  "base_image": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/ad/Commodore_Grace_M._Hopper%2C_USN_%28covered%29.jpg/1920px-Commodore_Grace_M._Hopper%2C_USN_%28covered%29.jpg",
  "format": "",
  "sections": [
    [
      { "h_350": [] }
    ],
    [
      { "f_auto": [] }
    ]
  ]
}`,
        },

        ///////////////////////////////////////////////////////

        {
          title: 'Multiple remote images',
          notes: [
            `multiple remote images need to be base64 encoded which this process handles.`,
            `the borders in these images are from the source material, not something applied by cloudinary. though, that is possible`,
          ],
          code: `{
  "__comments__": [

    "///////////////////////////////////////////////////////////////",

    "///////////////////////////////////////////////////////////////"
  ],

        "root_url": "https://res.cloudinary.com/demo/image/upload",
        "base_image": "1px-white",
        "format": "png",
        "sections": [
          [
            { "w_525": [] },
            { "h_350": [] }
          ],

          [
            { "l_fetch": ["https://tile.loc.gov/storage-services/service/pnp/cph/3c20000/3c24000/3c24600/3c24690r.jpg"] }
          ],
          [
            { "w_100": [] }
          ],
          [
            { "fl_layer_apply": [] },
            { "g_north_west": [] },
            { "y_20": [] },
            { "x_25": [] }
          ],

          [
            { "l_fetch": ["https://tile.loc.gov/storage-services/service/pnp/cph/3c20000/3c24000/3c24600/3c24694r.jpg"] }
          ],
          [
            { "w_100": [] }
          ],
          [
            { "fl_layer_apply": [] },
            { "g_north_west": [] },
            { "y_20": [] },
            { "x_150": [] }
          ],

          [
            { "l_fetch": ["https://tile.loc.gov/storage-services/service/pnp/cph/3c20000/3c24000/3c24700/3c24714r.jpg"] }
          ],
          [
            { "w_100": [] }
          ],
          [
            { "fl_layer_apply": [] },
            { "g_north_west": [] },
            { "y_20": [] },
            { "x_275": [] }
          ],

          [
            { "l_fetch": ["https://tile.loc.gov/storage-services/service/pnp/cph/3c20000/3c24000/3c24700/3c24711r.jpg"] }
          ],
          [
            { "w_100": [] }
          ],
          [
            { "fl_layer_apply": [] },
            { "g_north_west": [] },
            { "y_20": [] },
            { "x_400": [] }
          ],

          [
            { "l_fetch": ["https://tile.loc.gov/storage-services/service/pnp/cph/3c20000/3c24000/3c24700/3c24701r.jpg"] }
          ],
          [
            { "w_100": [] }
          ],
          [
            { "fl_layer_apply": [] },
            { "g_north_west": [] },
            { "y_180": [] },
            { "x_25": [] }
          ],

          [
            { "l_fetch": ["https://tile.loc.gov/storage-services/service/pnp/cph/3c20000/3c24000/3c24700/3c24705r.jpg"] }
          ],
          [
            { "w_100": [] }
          ],
          [
            { "fl_layer_apply": [] },
            { "g_north_west": [] },
            { "y_180": [] },
            { "x_150": [] }
          ],

          [
            { "l_fetch": ["https://tile.loc.gov/storage-services/service/pnp/cph/3c20000/3c24000/3c24700/3c24707r.jpg"] }
          ],
          [
            { "w_100": [] }
          ],
          [
            { "fl_layer_apply": [] },
            { "g_north_west": [] },
            { "y_180": [] },
            { "x_275": [] }
          ],

          [
            { "l_fetch": ["https://tile.loc.gov/storage-services/service/pnp/cph/3c20000/3c24000/3c24700/3c24708r.jpg"] }
          ],
          [
            { "w_100": [] }
          ],
          [
            { "fl_layer_apply": [] },
            { "g_north_west": [] },
            { "y_180": [] },
            { "x_400": [] }
          ]

        ]
      }`,
        },

        ///////////////////////////////////////////////////////

        {
          title: 'Generate a background with a specific color',
          notes: [
            `uses a 1 pixel white source image`,
            `I haven't seen a way to make a color image like this without a source like the 1 pixel image as a starter`,
          ],
          code: `{
  "__comments__": [

    "///////////////////////////////////////////////////////////////",

    "///////////////////////////////////////////////////////////////"
  ],

        "root_url": "https://res.cloudinary.com/demo/image/upload",
        "base_image": "1px-white",
        "format": "png",
        "sections": [
          [
            { "w_525": [] },
            { "h_350": [] },
            { "b_rgb": ["9a0000"] },
            { "o_0": [] }
          ]
        ]
      }`,
        },

        ///////////////////////////////////////////////////////

        {
          title: 'Generate a breakup pattern',
          notes: [`This gets a breakup pattern started`],
          code: `{
  "__comments__": [

    "///////////////////////////////////////////////////////////////",

    "///////////////////////////////////////////////////////////////"
  ],

        "root_url": "https://res.cloudinary.com/demo/image/upload",
        "base_image": "horses",
        "format": "png",
        "sections": [
          [
            { "h_350": [] },
            { "b_rgb": ["9a2323"] },
            { "o_0": [] }
          ],
          [ { "e_art": ["sizzle"]} ],
          [ { "e_noise": ["50"]} ],
          [
            { "e_ordered_dither": ["17"] }
            ]
        ]
      }`,
        },

        ///////////////////////////////////////////////////////

        {
          title: 'Create a rectangle',
          code: `{
  "__comments__": [

    "///////////////////////////////////////////////////////////////",

    "You need an image to generate the shape on top of", 

    "I'm using a 1px image, but anything will do since the size",
    "is set in the code and the color covers the entire area",

    "Positioning is done with 'g_', 'x_', and 'y_'",

    "///////////////////////////////////////////////////////////////"
  ],

  "root_url": "https://res.cloudinary.com/demo/image/upload",
  "base_image": "horses",
  "format": "png",
  "sections": [
    [
      { "w_525": [] },
      { "h_350": [] }
    ],
    [
      { "l_1px-white": [] }
    ],
    [
      { "w_25": [] },
      { "h_50": [] },
      { "co_rgb": ["F9331F"] },
      { "e_colorize": ["100"] }
    ],
    [
      { "fl_layer_apply": [] },
      { "g_south": [] },
      { "x_40": [] },
      { "y_40": [] }
    ]
  ]
}`,
        },

        ///////////////////////////////////////////////////////

        {
          title: 'Create a circle',
          code: `{
  "__comments__": [

    "///////////////////////////////////////////////////////////////",

    "You need an image to generate the shape on top of", 

    "I'm using a 1px image, but I think anything will do since the size",
    "is set in the code and the color covers the entire area",

    "Positioning is done with 'g_', 'x_', and 'y_'",

    "///////////////////////////////////////////////////////////////"
  ],

  "root_url": "https://res.cloudinary.com/demo/image/upload",
  "base_image": "horses",
  "format": "png",
  "sections": [
    [
      { "w_525": [] },
      { "h_350": [] }
    ],
    [
      { "l_1px-white": [] }
    ],
    [
      { "w_50": [] },
      { "h_50": [] },
      { "co_rgb": ["F9331F"] },
      { "e_colorize": ["100"] },
      { "r_max": [] }
    ],
    [
      { "fl_layer_apply": [] },
      { "g_east": [] },
      { "x_40": [] },
      { "y_40": [] }
    ]
  ]
}`,
        },

        ///////////////////////////////////////////////////////

        {
          title: 'Create a triangle',
          code: `{
  "__comments__": [

    "///////////////////////////////////////////////////////////////",

    "Making a triangle is complicated, but doable",

    "The approach here is to make a square the cut it to a triangle",
    "with another square placed over it at a different angle",

    "The main image has to be repeated as an underlay with 'u_'",

    "The edge that gets cut out has a blur to it",
    
    "I'm sure there's math that can make placing the components",
    "properly easy, but I just did trial and error. If you know that",
    "math, please send it to me",

    "Probably better off making your own images of triangles",
    "and placing them",


    "///////////////////////////////////////////////////////////////"
  ],

  "root_url": "https://res.cloudinary.com/demo/image/upload",
  "base_image": "horses",
  "format": "png",
  "sections": [
    [
      { "w_525": [] },
      { "h_350": [] }
    ],
    [
      { "l_base": [] }
    ],
    [
      { "w_100": [] },
      { "h_100": [] },
      { "co_rgb": ["F9331F"] },
      { "e_colorize": ["100"] }
    ],
    [
      { "fl_layer_apply": [] }
    ],
    [
      { "l_base": [] },
      { "w_220": [] },
      { "h_220": [] },
      { "a_30": [] }
    ],
    [
      { "e_cut_out": [] },
      { "fl_layer_apply": [] },
      { "g_east": [] },
      { "x_110": [] },
      { "y_40": [] }
    ],
    [
      { "u_horses": [] },
      { "w_525": [] },
      { "h_350": [] }
    ]
  ]
}`,
        },

        ///////////////////////////////////////////////////////
        // Close Example Config
        ///////////////////////////////////////////////////////
      ]

      //////////////////////////////////////////////////////
      // Start script stuff
      //////////////////////////////////////////////////////
      function updateUrl() {
        console.log('Updating URL')
        const assembly = []
        try {
          const data = JSON.parse(document.getElementById('source_block').value)
          assembly.push(data.root_url)
          data.sections.forEach((section) => {
            const parts = []
            section.forEach((item) => {
              console.log(item)
              const item_string = [Object.keys(item)[0]]
              console.log(item_string[0])

              if (item_string[0] === 'l_fetch') {
                console.log(`Encoding remote url: ${item[item_string[0]][0]}`)
                item_string.push(btoa(item[item_string[0]][0]))
              } else {
                item[item_string[0]].forEach((sub_string) => {
                  const encoded_string = encodeURIComponent(sub_string)
                  const comma_fixed_string = encoded_string.replace(
                    /%2C/g,
                    '%252C'
                  )
                  item_string.push(comma_fixed_string)
                })
              }

              parts.push(item_string.join(':'))
            })
            assembly.push(parts.join(','))
          })

          if (data.format !== '') {
            assembly.push(`${data.base_image}.${data.format}`)
          } else {
            assembly.push(data.base_image)
          }

          const output_url = assembly.join('/')
          document.getElementById('output_url').value = output_url
          document.getElementById('new_tab_url').href = output_url
          generate_preview()

          // return output_url
        } catch (error) {
          document.getElementById('output_url').value = 'Invalid JSON'
          console.log('Invalid JSON')
        }
      }

      let debounce_count = 0
      let update_immediately = false

      function generate_preview() {
        console.log('Got request to generate preview')
        if (update_immediately === true) {
          console.log('Updating immediately')
          update_immediately = false
          document.getElementById('image_preview').src =
            document.getElementById('output_url').value
        } else {
          console.log(`Updating via debounce`)
          console.log('Incrementing debouce count')
          debounce_count += 1
          var timeoutId = setTimeout(() => {
            console.log(`Finished debouce wait. Checking if it's safe`)
            debounce_count -= 1
            if (debounce_count > 0) {
              console.log(`Not yet ready: ${debounce_count} left to go`)
            } else {
              console.log(`It's ready. do the thing`)
              document.getElementById('image_preview').src =
                document.getElementById('output_url').value
              debounce_count = 0
            }
          }, 640)
        }
      }

      function load_example(event) {
        console.log(`Loading example: ${event.target.id}`)
        const split_id = event.target.id.split('_')
        document.getElementById('source_block').value =
          examples[split_id[1]].code
        update_immediately = true
        updateUrl()
      }

      // Setup copy button
      function copyClipBoard(event) {
        // via b1mind :-)
        let tempInput = document.createElement('textarea')
        tempInput.value = document.getElementById('output_url').value
        document.body.appendChild(tempInput)
        tempInput.select()
        document.execCommand('copy')
        document.body.removeChild(tempInput)
      }

      function setupAndGo() {
        // Add event listener for copy button
        const copy_button = document.getElementById('copy_button')
        copy_button.addEventListener('click', copyClipBoard)

        // Build example buttons
        const example_section = document.getElementById('examples_section')
        examples.forEach((example, example_index) => {
          example_button = document.createElement('button')
          example_button.id = `example_${example_index}`
          example_button.innerHTML = examples[example_index].title
          example_button.addEventListener('click', load_example)
          example_section.appendChild(example_button)
        })

        // Setup initial json block
        const source_block = document.getElementById('source_block')
        // Use `examples[0].code` for the first example
        // Or, `examples[examples.length - 1].code` for the last
        // source_block.value = examples[0].code
        source_block.value = examples[examples.length - 1].code
        source_block.addEventListener('input', updateUrl)
        update_immediately = true
        updateUrl()
      }
      document.addEventListener('DOMContentLoaded', setupAndGo)
    </script>
  </head>
  <body>
    <script type="text/javascript">
      document.body.className = 'pallet2'
    </script>
    <header>
      <a href="https://www.alanwsmith.com/">alanwsmith.com</a> ~
      <a href="https://links.alanwsmith.com">links</a> ~
      <a href="https://podcast.alanwsmith.com/">podcast</a>
    </header>
    <main>
      <h1>Cloudinary Image Maker</h1>
      <p>
        Configuring cloudinary urls by hand is a pain. So, I made this to make
        it easier to design open graph (OG) images for the social network cards
        that show up when you share a link. It's nothing fancy. You edit the
        json and a preview of the images along with the url.
      </p>
      <p>Check out the examples to get started.</p>

      <h3 id="examples_section">Examples:&nbsp;</h3>

      <div id="image_box">
        <img id="image_preview" />
      </div>
      <div>
        <input type="text" id="output_url" size="70" readonly="readonly" />
        <button id="copy_button">Copy URL</button> -
        <a id="new_tab_url" target="_blank"> Or, open the image in a new tab</a>
        <textarea id="source_block" cols="10" rows="23"> </textarea>
      </div>

      <h3>Notes</h3>
      <ul>
        <li>
          The cloudinary reference docs with all the stuff you can do
          <a href="https://cloudinary.com/documentation/image_transformations"
            >are here</a
          >
        </li>
        <li>
          I mainly built this to make it easier to figure out text placement for
          open graph social images. It's super handy for that
        </li>
        <li>
          The preview image width is constrianted. The generated urls are
          unaffected by this and will resize to whatever dimensions you spec out
        </li>
        <li>
          Cloudinary's api does a bunch of stuff. This doesn't cover everything,
          but it'll get you pretty far. (and you can always just drop an entire
          string with whatever you want into a section to trigger it)
        </li>
        <li>
          You're supposed to be able to get images from Twitter and YouTube, but
          those failed for me even when I hand assembled the urls based of the
          documentation.
        </li>
        <li>
          I put together a list of
          <a
            href="https://www.alanwsmith.com/posts/26mqi8ovvtka--google-fonts-you-can-use-in-cloudinary-transformations"
            >google fonts you can use in cloudinary transformations</a
          >
        </li>
      </ul>

      <h3>Usage</h3>
      <ul>
        <li>
          Trailing commas don't work (formatters usually spread this across
          multiple lines, but something like this `['a', 'b', 'c',]` will
          choke). If you get an invalid json, that's the first thing to check
        </li>
        <li>Both object keys and values require double quotes</li>
        <li>
          Each &quot;section&quot; in the &quot;sections&quot; array represents
          code that will go in between slashes in the final url
        </li>
        <li>Each section is itself an array of item objects</li>
        <li>Each item object has exactly one key and one value</li>
        <li>The value of the item objects are always arrays of parameters</li>
        <li>
          The item object parameters array always exists, but it can be empty
        </li>
        <li>In sections, individual items are joined with commas</li>
        <li>
          If there are parameters on an item, those are joined to their
          corresponding key with &quot;:&quot; characters.
        </li>
        <li>Text is in the parameters is automatically encoded for urls</li>
        <li>
          Add an slash to escapse quotes to use them in text (i.e. `\&quot;`)
        </li>
        <li>Text must all be on one line in the json</li>
        <li>Paragraphs can be created by adding two newlines (i.e. `\n\n`)</li>
        <li>
          Commas in text are replaced with a double escape sequence to prevent
          them from conflicting with cloudinary's functionality
        </li>
      </ul>

      <h3>Possible Enhancements</h3>
      <ul>
        <li>Made this thing responsive</li>
        <li>
          Switch Open in new tab to a button so it matches with the copy button
        </li>
        <li>
          move off of document.execCommand() to the newer navigation api for
          copying the url to the clipboard
        </li>
        <li>
          When clicking the preview (or when auto preview is setup) make the
          image disappear or have some type of overlay) to show that it's being
          loaded
        </li>
        <li>Make a button that adds a new section stub</li>
        <li>Make a button that adds a new item to the last section</li>
        <li>Add a button to auto copy the url</li>
        <li>
          Maybe handle newlines in strings to make it easier to see longer lines
          of text
        </li>
        <li>Store json history in local storage</li>
        <li>
          Setup the ability to post samples and code to twitter for storage,
          reference, and sharing
        </li>
        <li>Wire up prettier or another json formatter</li>
        <li>Add syntax highlighting</li>
        <li>Add more examples</li>
        <li>Maybe split out the json sections to individual text areas</li>
        <li>
          Reverse the process so you can drop in a url that gets parsed out to a
          json for editing
        </li>
      </ul>
      <h3>To Add</h3>
      <pre>
--- make sure the process can deal with files that are in cloudinary folders ---
all artistic effects - https://cloudinary.com/documentation/effects_and_artistic_enhancements#artistic_filter_effects
rotation (via a_) and flip
aspect ratio
other ways to make break up patterns
use the one pixel to make break up patterns
use hte one pixel to make squares and rectangles for multi color backgrounds
show borders 
show face detection blur (and warn that it can miss)
Generate a page with font samples for available fonts?
show quality adjustments
fit, fill, crop, scale (and any other c_ stuff)
https://res.cloudinary.com/demo/image/upload/co_orange,e_outline/ring2.png
backup default image - https://res.cloudinary.com/demo/image/upload/d_docs:placeholders:samples:avatar.png/non_existing_id.png
look at the layout stuff for making pdfs?
https://cloudinary.com/documentation/transformation_reference#e_assist_colorblind
https://cloudinary.com/documentation/transformation_reference#e_blackwhite
https://cloudinary.com/documentation/transformation_reference#e_blur_faces
https://cloudinary.com/documentation/transformation_reference#e_blur_region
play with blur region and the 1 pixel to see about making backgrounds with that automatically (and throw opacity in teh mix - also rounded corners) - and see if you can use distortion to make triangles
look at conditionals
masking layers
css sprite creation? - https://cloudinary.com/documentation/sprite_generation
https://cloudinary.com/documentation/paged_and_layered_media
https://cloudinary.com/documentation/responsive_images
https://cloudinary.com/documentation/transformation_reference#pg_range
https://cloudinary.com/documentation/image_optimization
https://cloudinary.com/documentation/custom_functions
https://cloudinary.com/documentation/user_defined_variables
https://cloudinary.com/documentation/conditional_transformations
https://cloudinary.com/documentation/effects_and_artistic_enhancements
https://cloudinary.com/documentation/layers
https://cloudinary.com/documentation/image_transformations
https://cloudinary.com/documentation/responsive_images
https://cloudinary.com/blog/how_to_pad_images_with_automatic_color_selection
https://cloudinary.com/documentation/transformation_reference
https://cloudinary.com/documentation/resizing_and_cropping
https://cloudinary.com/documentation/image_transformations
https://cloudinary.com/blog/a_one_color_image_is_worth_two_thousand_words
rounded cornder with r_ radius (less than r_max which is a circle) - show that you can do individual corners
look into variables - https://cloudinary.com/documentation/transformation_reference#_variable
      </pre>

      <h3>assets</h3>
      <pre>
face_top.jpg
sample.jpg
backpack.jpg
couple.jpg
https://res.cloudinary.com/demo/image/upload/ar_1:1,c_crop,g_auto:cat,w_1000/docs/one_cat_one_dog.jpg
https://res.cloudinary.com/demo/image/upload/ar_1:1,c_fill,g_auto:subject/boat_lake2.jpg
https://res.cloudinary.com/demo/image/upload/c_crop,g_microwave/docs/kitchen1.jpg
https://res.cloudinary.com/demo/image/upload/c_crop,g_cld-decompose_tile/docs/tiled-birds.jpg
https://res.cloudinary.com/demo/image/upload/$colors_5/fn_wasm:quantize.wasm/oldman_village_st.jpg
https://res.cloudinary.com/demo/image/upload/l_fetch:aHR0cHM6Ly9yZXMuY2xvdWRpbmFyeS5jb20vZGVtby9pbWFnZS91cGxvYWQvbG9nb3MvY2xvdWRpbmFyeV9mdWxsX2xvZ29fYmx1ZV9zbWFsbC5wbmc=/fl_layer_apply,g_north_west,x_15,y_15/docs/model_handbag_640
https://res.cloudinary.com/demo/image/upload/l_lut:iwltbap_aspen.3dl/fl_layer_apply/ladybug_top.jpg
https://res.cloudinary.com/demo/image/upload/pg_embedded:7/cld_sample_smart_PSD.jpg
https://res.cloudinary.com/demo/image/upload/c_thumb,g_face,h_150,w_150,z_0.75/woman_sample.jpg
https://res.cloudinary.com/demo/image/upload/c_crop,g_sink,z_0.8/docs/kitchen1.jpg
https://res.cloudinary.com/demo/image/upload/l_golden_star/c_scale,fl_region_relative,w_1.0/fl_layer_apply,g_faces/young_couple2.jpg
https://res.cloudinary.com/demo/image/fetch/f_png/c_scale,w_800/l_text:Unkempt_250_bold:Water/fl_cutter,fl_layer_apply/https://upload.wikimedia.org/wikipedia/commons/c/cc/Water_drop_impact_on_a_water-surface_-_(1).jpg
https://res.cloudinary.com/demo/w_auto:100:400/bike.jpg
https://res.cloudinary.com/demo/image/upload/base.jpg
      </pre>
    </main>
    <footer>
      made by <a href="https://twitter.com/TheIdOfAlan">alan w. smith</a>
      <br />
      who has a <a href="https://www.alanwsmith.com">website</a> and a
      <a href="https://podcast.alanwsmith.com/">podcast</a> <br />
      among other <a href="https://links.alanwsmith.com">things</a>
    </footer>
  </body>
</html>
